!function(a,b){"use strict";var c=function(a){var b=this,c=!!b.ads,d=!1,e=!1,f=!1;c&&(b.on("adstart",function(){e=!0,f=!1}),b.on("adend",function(){e&&(f=!0)})),b.on("ended",function(){!d&&(!c||e&&f||!e&&!f)&&(d=!0),d&&c&&!f?b.on("adend",function(){b.trigger("endscreen")}):d&&b.trigger("endscreen")})};b.plugin("endscreen",c)}(window,window.videojs),function(a,b){"use strict";var c,d={title:"",description:"",url:"",deeplinking:!1,displayAfterVideo:!1,offset:"00:00:00",services:{facebook:!0,google:!0,twitter:!0,tumblr:!0,pinterest:!0,linkedin:!0}},e=function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):(a.addEventListener||"click"!==b||(b="onclick"),a.attachEvent(b,c))},f=function(a,b,c){return a.removeEventListener?a.removeEventListener(b,c,!1):(a.removeEventListener||"click"!==b||(b="onclick"),a.detachEvent(b,c))},g=function(b){b.preventDefault(),a.open(this.href,"_blank","width=600, height=400, top=100, left=100, titlebar=yes, modal=yes, resizable=yes, toolbar=no, status=1, location=no, menubar=no, centerscreen=yes")};c=function(a){var c,e=this;if(c=b.util.mergeOptions(d,a),!(c&&c.services&&(c.services.facebook||c.services.twitter||c.services.google||c.services.tumblr||c.services.pinterest||c.services.linkedin)))throw new Error("videojs-social requires at least one service to be enabled");e.controlBar.socialButton&&(e.controlBar.removeChild(e.controlBar.socialButton),delete e.controlBar.socialButton,e.socialOverlay&&(e.removeChild(e.socialOverlay),delete e.socialOverlay)),e.controlBar.socialButton=e.controlBar.addChild("socialButton",c),e.socialOverlay=e.addChild("socialOverlay",c),e.controlBar.socialButton.el().setAttribute("tabindex","0"),c.displayAfterVideo&&(e.endscreen(),e.on("endscreen",function(){e.socialOverlay.enableRestartButton(),e.socialOverlay.show()}))},b.SocialButton=b.Button.extend({init:function(a,c){b.Button.call(this,a,c),this.on("touchstart",function(b){a.socialOverlay.update(),a.socialOverlay.disableRestartButton(),a.socialOverlay.show(),b.preventDefault()}),this.on("click",function(){a.socialOverlay.update(),a.socialOverlay.disableRestartButton(),a.socialOverlay.show()})}}),b.SocialButton.prototype.createEl=function(){return b.Button.prototype.createEl.call(this,"div",{className:"vjs-share-control vjs-control",role:"button","aria-live":"polite",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">Share</span></div>'})},b.SocialOverlay=b.Component.extend({init:function(a,c){var d,f,g,h;a.socialOverlay&&a.removeChild(a.socialOverlay),b.Component.call(this,a,c),this.el().querySelector(".vjs-social-embed-container input").setAttribute("value",this.getEmbedCode()),this.el().querySelector(".vjs-social-direct-link-container input").setAttribute("value",this._getUrlWithTime()),h=this.el().querySelector(".vjs-restart"),e(h,"click",b.bind(this,this._restartPlayer)),e(h,"activate",b.bind(this,this._restartPlayer)),this._bindServiceButtons(c.services),c.deeplinking||(d=this.el().querySelector(".vjs-social-start"),d.className+=" vjs-hidden "),c.removeEmbed&&c.removeEmbed===!0&&(this.el().querySelector(".vjs-social-embed-container").className+=" vjs-hidden "),c.removeDirect&&c.removeDirect===!0&&(this.el().querySelector(".vjs-social-direct-link-container").className+=" vjs-hidden "),f=this.el().querySelector(".direct-link-textbox"),e(f,"click",function(){this.select()}),g=this.el().querySelector(".embed-code-textbox"),e(g,"click",function(){this.select()}),this.offsetTextBox=this.el().querySelector(".start-offset-textbox"),e(this.offsetTextBox,"change",b.bind(this,this.update)),this.closeButton=this.el().querySelector(".vjs-social-cancel"),e(this.el(),"keydown",function(b){"none"!==a.socialOverlay.el().display&&27===b.keyCode&&a.socialOverlay.hide()},!0),this.on("click",function(b){b.target===this.closeButton&&a.socialOverlay.hide()})},update:function(){var a,b=this.el().querySelector(".embed-code-textbox"),c=this.options_;/^\s*(0*[1-5]*\d|0*[1-5]*\d:[0-5]\d|\d+:[0-5]\d:[0-5]\d)\s*$/.test(this.offsetTextBox.value)?(a=this.el().querySelector(".direct-link-textbox"),this.offsetTextBox.className=this.offsetTextBox.className.replace(/(^|\s)vjs-invalid/,""),a.value=this._getUrlWithTime()):this.offsetTextBox.className+=" vjs-invalid",b.setAttribute("value",this.getEmbedCode()),this._bindServiceButtons(c.services)},enableRestartButton:function(){var a=this.el().querySelector(".vjs-restart");a.className=a.className.replace(/\bvjs\-hidden\b/,"")},disableRestartButton:function(){var a=this.el().querySelector(".vjs-restart");/\bvjs-hidden\b/.test(a.className)||(a.className+=" vjs-hidden")},hide:function(){b.Component.prototype.hide.call(this),this.previouslyPlaying&&this.player().play(),this.player().controlBar.socialButton.el().focus()},show:function(){b.Component.prototype.show.call(this),this.player().paused()||(this.previouslyPlaying=!0,this.player().pause()),this.el().querySelector(".vjs-share-options a:first-child").focus()}}),b.SocialOverlay.prototype._bindServiceButtons=function(a){var b,c,d,e,f,g=this.player(),h=this.options(),i=g.poster();c=encodeURIComponent(this._getUrl()),d=encodeURIComponent(this._getTitle()),e=encodeURIComponent(h.description),i&&(f=encodeURIComponent(i));for(b in a)a[b]===!0&&this._bindServiceButton(b,c,d,e,f,i)},b.SocialOverlay.prototype._bindServiceButton=function(a,b,c,d,e,f){switch(a){case"facebook":this._bindSocialButton(".vjs-share-facebook","https://www.facebook.com/sharer/sharer.php?u={URL}&title={TITLE}".replace("{URL}",b).replace("{TITLE}",c));break;case"google":this._bindSocialButton(".vjs-share-gplus","https://plus.google.com/share?url={URL}".replace("{URL}",b));break;case"twitter":this._bindSocialButton(".vjs-share-twitter","https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fabout.twitter.com%2Fresources%2Fbuttons&text={TITLE}&tw_p=tweetbutton&url={URL}".replace("{URL}",b).replace("{TITLE}",c));break;case"tumblr":this._bindSocialButton(".vjs-share-tumblr","http://www.tumblr.com/share?v=3&u={URL}&t={TITLE}".replace("{URL}",b).replace("{TITLE}",c));break;case"pinterest":this._bindSocialButton(".vjs-share-pinterest","https://pinterest.com/pin/create/button/?url={URL}{POSTER}&description={TITLE}&is_video=true".replace("{URL}",b).replace("{TITLE}",c).replace("{POSTER}",e?"&media="+e:""));break;case"linkedin":this._bindSocialButton(".vjs-share-linkedin","https://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TITLE}&summary={DESCRIPTION}&source=Classic".replace("{URL}",b).replace("{TITLE}",c).replace("{DESCRIPTION}",d));break;default:throw new Error("An unsupported social service was specified.")}},b.SocialOverlay.prototype.createEl=function(){var a=this.player(),c=this.options();return b.Component.prototype.createEl.call(this,"div",{className:"vjs-social-overlay vjs-hidden","aria-role":"dialog","aria-label":a.localize("Sharing Dialog"),tabindex:-1,innerHTML:'<div class="vjs-social-cancel" role="button"><div class="vjs-control-text" aria-label="'+a.localize("Close button")+'">'+a.localize("Close")+"</div></div><form><legend>"+a.localize("Share Video")+": "+this._getTitle()+"</legend><label>"+a.localize("Share via")+':<ul class="vjs-share-options">'+this._addSocialButtons(c.services)+'</ul></label><div class="vjs-social-link-options"><label class="vjs-social-start" aria-label="'+a.localize("Start From")+'">'+a.localize("Start From")+': <input class="start-offset-textbox" type="text" tabindex="9" title="The offset must be specified using the following pattern: hh:mm:ss" placeholder="hh:mm:ss" maxlength="10" value="'+c.offset+'" /></label><div class="vjs-social-direct-link-container"><label class="vjs-social-link" aria-label="Read Only: Direct Link To Content">'+a.localize("Direct Link")+': <input class="direct-link-textbox" type="text" tabindex="8" readonly="true" /></label></div></div><div class="vjs-social-embed-container"><label arial-label="Read Only: Embed Code">'+a.localize("Embed Code")+': <input class="embed-code-textbox" type="text" tabindex="10" readonly="true" /></label></div></form><button tabindex="0" class="vjs-restart vjs-hidden"><div class="vjs-control-content"><span class="vjs-control-text">'+a.localize("Restart")+"</span></div></button>"})},b.SocialOverlay.prototype.getEmbedCode=function(){var b,c,d,e,f,g,h;return g=this.player(),h=this.options(),b=h.deeplinking?this._convertOffset(h.offset):null,c=g.el().querySelector(".start-offset-textbox"),c&&h.deeplinking&&(b=this._convertOffset(c.value)),d=g.options(),d["data-embed-url"]&&(d["data-embed-url"]=encodeURI(d["data-embed-url"])),f="//players.brightcove.net/{{account_id}}/{{player_id}}_{{embed_id}}/index.html{{video_id}}",a.parent!=a&&(f=a.location.href),e=h.embedCode?h.embedCode:"<iframe src='"+f+"{{offset}}' allowfullscreen frameborder=0></iframe>",e.replace("{{account_id}}",d["data-account"]).replace("{{player_id}}",d["data-player"]).replace("{{embed_id}}",d["data-embed"]).replace("{{video_id}}",g.mediainfo&&g.mediainfo.id?"?videoId="+g.mediainfo.id:"").replace("{{offset}}",b?"#t="+b:"")},b.SocialOverlay.prototype._getUrl=function(){var b,c=this.options();return b=c.url?c.url:a.parent!=a?document.referrer:a.location.href},b.SocialOverlay.prototype._getUrlWithTime=function(){var a,b=this.options(),c=this._getUrl();return b.deeplinking&&(a=this._convertOffset(this.el().querySelector(".start-offset-textbox").value)),a&&(c=c+"#t="+a),c},b.SocialOverlay.prototype._getTitle=function(){var a,b=this.options(),c=this.player(),d=b.title;return d||(a=c.options(),a["data-media"]&&a["data-media"].title&&(d=a["data-media"].title)),d||""},b.SocialOverlay.prototype._convertOffset=function(a){var b,c,d,e=0,f=[1,60,3600],g="";if(a&&(b=a.split(":"),b.length>=1&&b.length<=3)){for(c=0;c<b.length;++c){if(d=parseInt(b[c],10)*f[b.length-1-c],isNaN(d))return"";e+=d}return g="",e>=3600&&0!==Math.floor(e/3600)&&(g=Math.floor(e/3600)+"h",e%=3600),e>=60&&0!==Math.floor(e/60)&&(g+=Math.floor(e/60)+"m",e%=60),e>0&&(g+=e+"s"),g}return""},b.SocialOverlay.prototype._bindSocialButton=function(a,b){var c;c=this.el().querySelector(a),c&&(c.href=b,f(c,"touchend",g),e(c,"touchend",g),f(c,"click",g),e(c,"click",g))},b.SocialOverlay.prototype._addSocialButtons=function(a){var b,c;b="";for(c in a)a[c]===!0&&(b+=this._addServiceButton(c));return b},b.SocialOverlay.prototype._addServiceButton=function(a){var b="";switch(a){case"facebook":b='<li><a class="vjs-share-facebook" aria-role="link" aria-label="Share on Facebook" tabindex="1" title="Facebook" target="_blank"><span class="vjs-control-text">Facebook</span></a></li>';break;case"google":b='<li><a class="vjs-share-gplus" aria-role="link" aria-label="Share on Google Plus" tabindex="2" title="Google+" target="_blank"><span class="vjs-control-text">Google+</span></a></li>';break;case"twitter":b='<li><a class="vjs-share-twitter" aria-role="link" aria-label="Share on Twitter" tabindex="3" title="Twitter" target="_blank"><span class="vjs-control-text">Twitter</span></a></li>';break;case"tumblr":b='<li><a class="vjs-share-tumblr" aria-role="link" aria-label="Share on Tumblr" tabindex="4" title="Tumblr" target="_blank"><span class="vjs-control-text">tumblr</span></a></li>';break;case"pinterest":b='<li><a class="vjs-share-pinterest" aria-role="link" aria-label="Share on Pinterest" tabindex="5" title="Pinterest" target="_blank"><span class="vjs-control-text">Pinterest</span></a></li>';break;case"linkedin":b='<li><a class="vjs-share-linkedin" aria-role="link" aria-label="Share on LinkedIn" tabindex="6" title="LinkedIn" target="_blank"><span class="vjs-control-text">LinkedIn</span></a></li>';break;default:throw new Error("An unsupported social service was specified.")}return b},b.SocialOverlay.prototype._restartPlayer=function(){var a=this.player();a.socialOverlay.hide(),a.currentTime(0),a.play()},b.plugin("social",c)}(window,window.videojs),function(a,b){"use strict";var c,d,e,f={content:""},g=function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},h=function(a){setTimeout(function(){c.customOverlay.hide(),c.socialOverlay.show()},100),a.preventDefault()},i=function(a,b){return'<button class="'+a+'" tabindex="0"><div class="vjs-control-content"><span class="vjs-control-text">'+b+"</span></div></button>"},j=function(a){setTimeout(function(){c.currentTime(0),c.play(),c.customOverlay.hide()},100),a.preventDefault()};d=function(a){var d=b.util.mergeOptions(f,a);c=this,c.endscreen(),c.on("endscreen",function(){if(c.customOverlay=c.addChild("CustomOverlay",d),c.customOverlay.show(),c.social){var a=c.el().querySelector(".vjs-trigger-social-control");g(a,"click",h)}})},e=b.CustomOverlay=b.Component.extend({init:function(a,c){a.customOverlay&&a.removeChild(a.customOverlay);var d='<div class="vjs-endscreen-overlay-content">'+a.localize(c.content)+'</div><div class="vjs-overlay-buttons">'+i("vjs-restart-control",a.localize("Restart"));a.social&&(d+=i("vjs-trigger-social-control",a.localize("Share"))),d+="</div>",b.Component.call(this,a,{el:b.Component.prototype.createEl.call(this,"div",{className:"vjs-custom-overlay","aria-role":"dialog","aria-label":a.localize("Endscreen"),tabindex:-1,innerHTML:d})});var e=this.el().querySelector(".vjs-restart-control");g(e,"click",j)}}),b.plugin("customEndscreen",d)}(window,window.videojs);